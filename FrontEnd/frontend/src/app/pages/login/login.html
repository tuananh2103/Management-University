<section class="login">
  <div class="card">
    <div class="header">
      <h1>Login</h1>
      <p>Connect to get more features</p>
    </div>

    <form [formGroup]="form" (ngSubmit)="submit()" novalidate>
      <div class="field">
        <label for="username">Username</label>
        <input
          id="username"
          type="text"
          formControlName="username"
          placeholder="Example: admin"
          [class.invalid]="username.touched && username.invalid"
        />
        <div class="hint" *ngIf="username.touched && username.invalid">
          <span *ngIf="username.errors?.['required']">Username is required</span>
          <span *ngIf="username.errors?.['minlength']">Username minimun length is 3</span>
        </div>
      </div>

      <div class="field">
        <label for="password">Password</label>
        <input
          id="password"
          type="password"
          formControlName="password"
          placeholder="••••••••"
          [class.invalid]="password.touched && password.invalid"
        />
        <div class="hint" *ngIf="password.touched && password.invalid">
          <span *ngIf="password.errors?.['required']">Password is required</span>
          <span *ngIf="password.errors?.['minlength']">Password minimum length is 6</span>
        </div>
      </div>

      <div class="alert" *ngIf="status === 'ERROR'">
        {{ errorMessage }}
      </div>

      <div class="alert success" *ngIf="status === 'SUCCESS'">
        Login successful (mock). The next step will redirect to the dashboard.
      </div>

      <button class="btn" type="submit" [disabled]="status === 'LOADING'">
        <span *ngIf="status !== 'LOADING'">Login</span>
        <span *ngIf="status === 'LOADING'">Processing...</span>
      </button>

      <div class="note">
        <strong>Demo:</strong> username <code>admin</code> / password <code>admin123</code>
      </div>
    </form>
  </div>
</section>
